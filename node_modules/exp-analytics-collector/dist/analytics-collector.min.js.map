{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6","webpack:///analytics-collector.min.js","webpack:///webpack/bootstrap adc52f500dedbfe87957?992f","webpack:///./index.js?2645","webpack:///./src/analytics-collector.js?d573","webpack:///./src/analytic-event.js?3508"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","AnalyticsCollector","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","value","_analyticEvent","_analyticEvent2","DEFAULT_VERSION","noop","urlBase","appName","gaId","mfgId","campaignId","AnalyticEventImpl","arguments","undefined","ga","window","url","rootEventId","AnalyticEvent","sendToGA","action","data","version","consumers","parent","fireOffGA","success","error","doSend","createAnalyticsEvent","guid","toJSON","fireOffGa","location","href","userAgent","navigator","referrer","document","label","hitCallback","doPostRequest","sendEvent","eventId","s4","Math","floor","random","toString","substring","apply","xhr","body","JSON","stringify","XMLHttpRequest","ActiveXObject","Error","open","setRequestHeader","send","onreadystatechange","readyState","status","parse","responseText","e","statusText","parentEventId","Array","isArray","_this","hash","keys","forEach"],"mappings":"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","file":"analytics-collector.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"expAnalyticsCollector\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"expAnalyticsCollector\"] = factory();\n\telse\n\t\troot[\"expAnalyticsCollector\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"expAnalyticsCollector\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"expAnalyticsCollector\"] = factory();\n\telse\n\t\troot[\"expAnalyticsCollector\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(3);\n\n\n/***/ },\n/* 1 */,\n/* 2 */,\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar AnalyticsCollector = __webpack_require__(4);\n\tmodule.exports = new AnalyticsCollector['default']();\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _analyticEvent = __webpack_require__(5);\n\t\n\tvar _analyticEvent2 = _interopRequireDefault(_analyticEvent);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar DEFAULT_VERSION = 1;\n\tvar noop = function noop() {};\n\t\n\tvar AnalyticsCollector = (function () {\n\t  function AnalyticsCollector() {\n\t    _classCallCheck(this, AnalyticsCollector);\n\t  }\n\t\n\t  _createClass(AnalyticsCollector, [{\n\t    key: 'init',\n\t    value: function init(urlBase, appName, gaId, mfgId, campaignId) {\n\t      var AnalyticEventImpl = arguments.length <= 5 || arguments[5] === undefined ? _analyticEvent2.default : arguments[5];\n\t      var ga = arguments.length <= 6 || arguments[6] === undefined ? window.ga : arguments[6];\n\t\n\t      this.url = urlBase + '/1.0/analyticEvent';\n\t      this.appName = appName;\n\t      this.gaId = gaId;\n\t      this.mfgId = mfgId;\n\t      this.campaignId = campaignId;\n\t      this.rootEventId = '';\n\t      this.AnalyticEvent = AnalyticEventImpl;\n\t      this.ga = ga;\n\t\n\t      this.sendToGA('create', this.gaId, 'auto');\n\t      return this;\n\t    }\n\t  }, {\n\t    key: 'sendEvent',\n\t    value: function sendEvent(action) {\n\t      var data = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\t      var version = arguments.length <= 2 || arguments[2] === undefined ? DEFAULT_VERSION : arguments[2];\n\t      var consumers = arguments.length <= 3 || arguments[3] === undefined ? [] : arguments[3];\n\t      var parent = arguments.length <= 4 || arguments[4] === undefined ? this.rootEventId : arguments[4];\n\t      var fireOffGA = arguments.length <= 5 || arguments[5] === undefined ? false : arguments[5];\n\t      var success = arguments.length <= 6 || arguments[6] === undefined ? noop : arguments[6];\n\t      var error = arguments.length <= 7 || arguments[7] === undefined ? noop : arguments[7];\n\t\n\t      return this.doSend(this.createAnalyticsEvent(action, data, version, consumers, parent), fireOffGA, success, error);\n\t    }\n\t  }, {\n\t    key: 'createAnalyticsEvent',\n\t    value: function createAnalyticsEvent(action, data, version, consumers, parent) {\n\t      return new this.AnalyticEvent(action, data, this.appName, version, this.guid(), consumers, parent).toJSON();\n\t    }\n\t  }, {\n\t    key: 'doSend',\n\t    value: function doSend(data) {\n\t      var fireOffGa = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];\n\t      var success = arguments.length <= 2 || arguments[2] === undefined ? noop : arguments[2];\n\t      var error = arguments.length <= 3 || arguments[3] === undefined ? noop : arguments[3];\n\t\n\t      data.url = window.location.href;\n\t      data.userAgent = navigator.userAgent;\n\t      data.referrer = document.referrer;\n\t      data.mfgId = data.mfgId || this.mfgId;\n\t      data.campaignId = data.campaignId || this.campaignId;\n\t\n\t      if (fireOffGa) {\n\t        this.sendToGA('send', 'event', this.appName, data.action, data.label || data.url, {\n\t          hitCallback: success\n\t        });\n\t      }\n\t\n\t      this.doPostRequest(data, success, error);\n\t\n\t      return data;\n\t    }\n\t  }, {\n\t    key: 'pv',\n\t    value: function pv(data) {\n\t      var success = arguments.length <= 1 || arguments[1] === undefined ? noop : arguments[1];\n\t      var error = arguments.length <= 2 || arguments[2] === undefined ? noop : arguments[2];\n\t\n\t      this.sendToGA('send', 'pageview');\n\t\n\t      this.rootEventId = this.sendEvent('PAGEVIEW', data, 1, undefined, undefined, false, success, error).eventId;\n\t      return this.rootEventId;\n\t    }\n\t  }, {\n\t    key: 'guid',\n\t    value: function guid() {\n\t      var s4 = function s4() {\n\t        return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n\t      };\n\t\n\t      return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n\t    }\n\t  }, {\n\t    key: 'sendToGA',\n\t    value: function sendToGA() {\n\t      if (this.ga && this.gaId) {\n\t        this.ga.apply(null, arguments);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'doPostRequest',\n\t    value: function doPostRequest(data) {\n\t      var success = arguments.length <= 1 || arguments[1] === undefined ? noop : arguments[1];\n\t      var error = arguments.length <= 2 || arguments[2] === undefined ? noop : arguments[2];\n\t\n\t      var xhr = undefined;\n\t      var body = JSON.stringify(data);\n\t\n\t      if (window.XMLHttpRequest) {\n\t        xhr = new window.XMLHttpRequest();\n\t      } else if (window.ActiveXObject) {\n\t        xhr = new window.ActiveXObject('MSXML2.XMLHTTP.3.0');\n\t      } else {\n\t        throw new Error('Cannot make request due to the browser being old');\n\t      }\n\t\n\t      xhr.open('POST', this.url);\n\t      xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n\t      xhr.setRequestHeader('Content-Type', 'application/json; charset=utf-8');\n\t      xhr.send(body);\n\t      xhr.onreadystatechange = function () {\n\t        if (xhr.readyState === 4) {\n\t          if (xhr.status < 300) {\n\t\n\t            try {\n\t              success.call(this, JSON.parse(xhr.responseText));\n\t            } catch (e) {\n\t              error.call(this, e);\n\t            }\n\t          } else {\n\t            error.call(this, xhr.responseText || xhr.statusText);\n\t          }\n\t        }\n\t      };\n\t    }\n\t  }]);\n\t\n\t  return AnalyticsCollector;\n\t})();\n\t\n\texports.default = AnalyticsCollector;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar AnalyticEvent = (function () {\n\t  function AnalyticEvent(action, data, appName, version, eventId, consumers, parentEventId) {\n\t    _classCallCheck(this, AnalyticEvent);\n\t\n\t    this.action = action;\n\t    this.data = data;\n\t    this.appName = appName;\n\t    this.version = version;\n\t    this.eventId = eventId;\n\t    this.parentEventId = parentEventId;\n\t    this.userAgent = '';\n\t    this.url = '';\n\t    this.mfgId = '';\n\t    this.campaignId = '';\n\t    this.referrer = '';\n\t\n\t    if (consumers) {\n\t      if (Array.isArray(consumers)) {\n\t        this.consumers = consumers;\n\t      } else {\n\t        this.consumers = [consumers];\n\t      }\n\t    }\n\t  }\n\t\n\t  _createClass(AnalyticEvent, [{\n\t    key: 'toJSON',\n\t    value: function toJSON() {\n\t      var _this = this;\n\t\n\t      var hash = {};\n\t\n\t      Object.keys(this).forEach(function (key) {\n\t        hash[key] = _this[key];\n\t      });\n\t\n\t      return hash;\n\t    }\n\t  }]);\n\t\n\t  return AnalyticEvent;\n\t})();\n\t\n\texports.default = AnalyticEvent;\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** analytics-collector.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap adc52f500dedbfe87957\n **/","var AnalyticsCollector = require('./src/analytics-collector');\nmodule.exports = new AnalyticsCollector['default']();\n\n\n\n/** WEBPACK FOOTER **\n ** ./index.js\n **/","import AnalyticEvent from './analytic-event';\n\nconst DEFAULT_VERSION = 1;\nconst noop = () => {};\n\nclass AnalyticsCollector {\n  init(urlBase, appName, gaId, mfgId, campaignId, AnalyticEventImpl=AnalyticEvent, ga=window.ga) {\n    this.url = urlBase + '/1.0/analyticEvent';\n    this.appName = appName;\n    this.gaId = gaId;\n    this.mfgId = mfgId;\n    this.campaignId = campaignId;\n    this.rootEventId = '';\n    this.AnalyticEvent = AnalyticEventImpl;\n    this.ga = ga;\n\n    this.sendToGA('create', this.gaId, 'auto');\n    return this;\n  }\n\n  sendEvent(action, data={}, version=DEFAULT_VERSION, consumers=[], parent=this.rootEventId, fireOffGA=false, success=noop, error=noop) {\n    return this.doSend(this.createAnalyticsEvent(action, data, version, consumers, parent), fireOffGA, success, error);\n  }\n\n  createAnalyticsEvent(action, data, version, consumers, parent) {\n    return new this.AnalyticEvent(action, data, this.appName, version, this.guid(), consumers, parent).toJSON();\n  }\n\n  doSend(data, fireOffGa=false, success=noop, error=noop) {\n    data.url = window.location.href;\n    data.userAgent = navigator.userAgent;\n    data.referrer = document.referrer;\n    data.mfgId = data.mfgId || this.mfgId;\n    data.campaignId = data.campaignId || this.campaignId;\n\n    if (fireOffGa) {\n      this.sendToGA('send', 'event', this.appName, data.action, data.label || data.url, {\n        hitCallback: success\n      });\n    }\n\n    this.doPostRequest(data, success, error);\n\n    return data;\n  }\n\n  pv(data, success=noop, error=noop) {\n    this.sendToGA('send', 'pageview');\n\n    this.rootEventId = this.sendEvent('PAGEVIEW', data, 1, undefined, undefined, false, success, error).eventId;\n    return this.rootEventId;\n  }\n\n  guid() {\n    const s4 = () => {\n      return Math.floor((1 + Math.random()) * 0x10000)\n        .toString(16)\n        .substring(1);\n    };\n\n    return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n  }\n\n  sendToGA() {\n    if (this.ga && this.gaId) {\n      this.ga.apply(null, arguments);\n    }\n  }\n\n  doPostRequest(data, success=noop, error=noop) {\n    let xhr;\n    const body = JSON.stringify(data);\n\n    if (window.XMLHttpRequest) {\n      xhr = new window.XMLHttpRequest();\n    } else if (window.ActiveXObject) {\n      xhr = new window.ActiveXObject('MSXML2.XMLHTTP.3.0');\n    } else {\n      throw new Error('Cannot make request due to the browser being old');\n    }\n\n    xhr.open('POST', this.url);\n    xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n    xhr.setRequestHeader('Content-Type', 'application/json; charset=utf-8');\n    xhr.send(body);\n    xhr.onreadystatechange = function() {\n      if (xhr.readyState === 4) {\n        if (xhr.status < 300) {\n\n          try {\n            success.call(this, JSON.parse(xhr.responseText));\n          } catch (e) {\n            error.call(this, e);\n          }\n        } else {\n          error.call(this, xhr.responseText || xhr.statusText);\n        }\n      }\n    };\n  }\n}\n\nexport default AnalyticsCollector;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/analytics-collector.js\n **/","class AnalyticEvent {\n  constructor(action, data, appName, version, eventId, consumers, parentEventId) {\n    this.action = action;\n    this.data = data;\n    this.appName = appName;\n    this.version = version;\n    this.eventId = eventId;\n    this.parentEventId = parentEventId;\n    this.userAgent = '';\n    this.url = '';\n    this.mfgId = '';\n    this.campaignId = '';\n    this.referrer = '';\n\n    if(consumers) {\n      if(Array.isArray(consumers)) {\n        this.consumers = consumers;\n      } else {\n        this.consumers = [consumers];\n      }\n    }\n  }\n\n  toJSON() {\n    const hash = {};\n\n    Object.keys(this).forEach((key) => {\n      hash[key] = this[key];\n    });\n\n    return hash;\n  }\n}\n\nexport default AnalyticEvent;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/analytic-event.js\n **/"],"sourceRoot":""}